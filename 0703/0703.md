## Overview
- Character 관련 함수
- 함수
- Data Frame 연습하기

## Character 관련 함수
- `paste(..., sep=)`
    - [참고](https://m.blog.naver.com/PostView.nhn?blogId=coder1252&logNo=220985161855&proxyReferer=https%3A%2F%2Fwww.google.com%2F)
    - 여러 원소들을 묶어서 하나의 string으로 만들어 줌.
    - sep: separator, 각 원소들의 구분자
    - 예)
        ```R
        # 변수 정의
        a <- 3
        b <- 5

        # paste 함수로 원소 묶기
        mul_str <- paste(a, '*', b, '=', a*b, sep=' ')

        # 결과 출력
        print(mul_str)
        ```
        출력 결과
        ```
        [1] "3 * 5 = 15"
        ```
- `sprintf(포맷, 값1, 값2, ...)`
    - [참고](https://thebook.io/006723/ch05/08/04/02/)
    - format string 만듦. 즉, 특정한 포맷을 가지는 문자열을 만듦.
        - 예) "yy-mm-dd" 등의 포맷을 갖는 문자열을 만들고 싶을 때 사용.
    - 문자열 포맷 안에는 **형식 변수**를 포함하는 것으로 생각한다.
        - 예) "yy-mm-dd" 안에서 yy, mm, dd 를 형식 변수라고 생각한다.
        - yy, mm, dd가 여러 값을 가질 수 있기 때문.
    - **형식 변수** 작성법
        - 간단 버전
            - %d: 정수
            - %f: 소수
            - %s: 문자
        - 복잡 버전 (자리수 추가, 여기서는 2자리수를 예시로 듦) 
            - %2d: 두자리 정수 (빈 자리는 띄어쓰기 ' '로 채움)
            - %02d: 두자리 정수 (빈 자리는 0으로 채움)
            - %.2f: 소수점 두자리의 소수
    - 형식 변수 안에 값을 순서대로 대입하면 된다!
        - 예) "yy-mm-dd"에서, yy=18, mm=7, dd=3 을 넣고 싶다면
            ```R
            date <- sprintf("%02d-%02d-%02d", 18, 7, 3)
            print(date)
            ```
            출력 결과
            ```
            [1] "18-07-03"
            ```


## 함수
- Inputs -> (Output)
- 조건 등을 조금씩 바꿔가면서 반복 작업을 자동화 하고 싶을 때 필수!
- 함수 정의하기
    ```R
    함수_이름 <- function(input1, input2, ...) {
        어쩌고
        저쩌고
        ...
        return (output) # 생략 가능
    }
    ```
- 함수 관련 용어
    - Argument / Parameter
    - Return
    - Void
    - Define
    - Call
- 예)
    ```R
    print_mult_table <- function(n) {
        for (i in 2:n) {
            for (j in 2:n) {
                print(paste(i, '*', j, '=', i * j))
            }
        }
    }

    print_mult_table(4)
    ```
    출력 결과
    ```
    [1] "2 * 2 = 4"
    [1] "2 * 3 = 6"
    [1] "2 * 4 = 8"
    [1] "3 * 2 = 6"
    [1] "3 * 3 = 9"
    [1] "3 * 4 = 12"
    [1] "4 * 2 = 8"
    [1] "4 * 3 = 12"
    [1] "4 * 4 = 16"
    ```

## Data Frame 연습
- [기상청 데이터](http://sts.kma.go.kr/jsp/home/contents/main/main.do)
- names()
- Panel data 파일 읽기
    - `read.csv(filename, header=T/F, sep=?)` 함수 사용
        - filename
            - 파일 이름/경로
            - 파일 경로 표현법
                - 절대 경로
                - 상대 경로
        - header
            - 첫 번째 줄을 헤더로 사용할지/말지
            - TRUE / FALSE
        - sep
            - separator
            - ','가 default
- NA
- write.csv(
  x,              # 파일에 저장할 데이터 프레임 또는 행렬
  file="",        # 데이터를 저장할 파일명
  row.names=TRUE  # TRUE면 행 이름을 CSV 파일에 포함하여 저장한다.
)
- 예) 2017년도의 WI 구하기

    ```R
    mk_month_temp_df <- function(dirpath) {
        month_temp_df <- data.frame(month=1:12, temp=rep(0, timestamp=12))
        for (month in 1:12) {
            filename <- sprintf('2017_%02d_utf8.csv', month)
            filepath <- paste(dirpath, filename, sep='')
            input_df <- read.csv(filepath, header=T, sep=',')
            avg_temp <- mean(input_df$Temp, na.rm=T)
            month_temp_df[month, 'temp'] <- avg_temp
        }
        return (month_temp_df)
    }

    cal_WI <- function(monthly_temp_df, temp_colname) {
        monthly_temp <- monthly_temp_df[,temp_colname]
        monthly_temp_over_5 <- monthly_temp[monthly_temp > 5]
        WI <- sum(monthly_temp_over_5)
        return (WI)
    }

    dirpath <- '~/Downloads/Jiyeon/0703/2017-temp-prec/utf8/'
    temp_2017 <- mk_month_temp_df(dirpath)
    WI_2017 <- cal_WI(temp_2017, names(temp_2017)[2])

    print(WI_2017)
    ```
    출력 결과
    ```
    159.8299
    ```











